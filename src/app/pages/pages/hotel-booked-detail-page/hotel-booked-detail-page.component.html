<div *ngIf="isBrowser && loadingBool" class="p-flight-booking-complete-page">
    <!-- 헤더 -->
    <app-header [headerConfig]="headerConfig"></app-header>

    <!-- 컨덴츠 -->
    <div id="container" *ngIf="loadingBool">
        <div id="contents" class="middle default">
            <div class="contents-area">
                <div class="aside left">
                    <dl class="aside-menu">
                        <dt>마이페이지</dt>
                        <!-- 예약목록은 회원일때만 보여짐 -->
                        <dd>
                            <a (click)="goToReservation()">예약목록
                                <span class="icon sm reservation"></span>
                            </a>
                        </dd>
                        <!-- <dd><a href="#">예약조회(비회원/제휴사)</a></dd> 비회원 일때 나옴 -->
                        <dd>
                            <a (click)="goToRecent()">최근 본 상품
                                <span class="icon sm recent"></span>
                            </a>
                        </dd>
                        <dd>
                            <a (click)="goToWish()">장바구니
                                <span class="icon sm wish"></span>
                            </a>
                        </dd>

                        <dd *ngIf="false">
                            <a (click)="goToCoupon()">쿠폰&할인코드
                                <span class="icon sm coupon"></span>
                            </a>
                        </dd>

                        <dd>
                            <a (click)="goToQna()">문의내역
                                <span class="icon sm qna"></span>
                            </a>
                        </dd>


                        <dd *ngIf="false">
                            <a (click)="goToReview()">이용후기
                                <span class="icon sm review"></span>
                            </a>
                        </dd>


                        <dd>
                            <a (click)="goToCustomer()">고객센터
                                <span class="icon sm customer"></span>
                            </a>
                        </dd>

                        <dd>
                            <a href="https://www.ybtour.co.kr/cs/noticeList.yb">공지사항
                                <span class="icon sm notice"></span>
                            </a>
                        </dd>


                        <dd>
                            <a (click)="goToEvent()">이벤트&amp;기획전
                                <span class="icon sm event"></span>
                            </a>
                        </dd>


                        <dd>
                            <a (click)="goToShare()">친구초대
                                <span class="icon sm share"></span>
                            </a>
                        </dd>


                        <dd>
                            <a (click)="goToSeller()">판매 및 입점
                                <span class="icon sm seller"></span>
                            </a>
                        </dd>


                        <dd *ngIf="false">
                            <a (click)="goToAgreement()">이용약관
                                <span class="icon sm document"></span>
                            </a>
                        </dd>
                    </dl>
                </div>
                <div class="contents">
                    <div class="reservation-detail">
                        <h2 class="heading-title2 mb20">예약 상세 내역</h2>
                        <div class="reservation-control-box">
                            <ul>
                                <li><a href="#" class="btn light md">여행자보험</a></li>
                                <li><a (click)="onBookingCancel($event)" class="btn light md">예약 취소</a></li>
                                <li><a href="#" class="btn light md">WIFI &amp; USIM</a></li>
                                <li><a (click)="openHotelBoucher($event)" class="btn light md">바우쳐</a></li>
                                <li><a (click)="openHotelInvoice($event)" class="btn light md">인보이스</a></li>
                                <li><a (click)="openHotelReceipt($event)" class="btn light md">영수증</a></li>
                                <li><a href="#" class="btn light md">1:1 문의</a></li>
                            </ul>
                        </div>
                        <div class="contents-item">
                            <h3 class="heading-title1 mb10">예약정보</h3>
                            <div class="information-article">
                                <div *ngIf="hotelBookingInfo.summary" class="image-view-item">
                                    <div class="image" [ngStyle]="{background: 'url(' + hotelBookingInfo.summary.defaultPhotoUrl + ')'}">
                                    </div>
                                    <div class="information">
                                        <p *ngIf="hotelBookingInfo.summary.hotelNameLn" class="name1">[호텔]
                                            {{hotelBookingInfo.summary.hotelNameLn}}</p>
                                        <p *ngIf="hotelBookingInfo.summary.hotelNameEn" class="name2">
                                            {{hotelBookingInfo.summary.hotelNameEn}}</p>
                                        <p *ngIf="hotelBookingInfo.summary.starRating" class="hotel-rating">
                                            <span class="rating sm s{{getHotelStarRating(hotelBookingInfo.summary.starRating)}}"></span>
                                            <span class="text">{{hotelBookingInfo.summary.starRating | number  : '1.0-1'}}성급</span>
                                        </p>
                                    </div>
                                </div>
                                <div class="summary">
                                    <ng-container *ngIf="hotelBookingInfo.summary">
                                        <dl>
                                            <dt>예약번호</dt>
                                            <dd>{{hotelBookingInfo.summary.bookingItemCode}}</dd>
                                        </dl>
                                        <dl>
                                            <dt>예약상태/결제상태</dt>
                                            <dd>{{hotelBookingInfo.summary.bookingStatusName}}
                                                <ng-container *ngIf="hotelBookingInfo.payments">
                                                    <!-- <ng-container *ngIf="hotelBookingInfo.payments.paymentStatusName"> -->
                                                    /{{hotelBookingInfo.payments.paymentStatusName}}
                                                    <!-- </ng-container> -->
                                                </ng-container>
                                                <span *ngIf="hotelBookingInfo.summary.cancelDescription" class="color-point2 ml5">[{{hotelBookingInfo.summary.cancelDescription}}]</span>
                                            </dd>
                                        </dl>
                                        <dl>
                                            <dt>여행 기간</dt>
                                            <dd>
                                                {{hotelBookingInfo.summary.checkInDate | amDateFormat:'YYYY.MM.DD(dd)'}}
                                                -
                                                {{hotelBookingInfo.summary.checkOutDate | amDateFormat:'YYYY.MM.DD(dd)'}}
                                                , {{hotelBookingInfo.summary.nightsCount}}박<span class="color-point2 ml5">[D{{hotelBookingInfo.summary.leftDays}}]</span>
                                            </dd>
                                        </dl>
                                        <dl>
                                            <dt>여행자</dt>
                                            <dd>
                                                {{hotelBookingInfo.summary.travelerName}}
                                                <ng-container *ngIf="hotelBookingInfo.summary.travelerMinusCount > 0">
                                                    외 {{hotelBookingInfo.summary.travelerMinusCount}}명
                                                </ng-container>
                                            </dd>
                                        </dl>
                                    </ng-container>
                                    <dl>
                                        <dt>객실 정보</dt>
                                        <dd>{{guestNumInfo}}, 조식포함, 무료 WIFI</dd>
                                    </dl>
                                    <dl>
                                        <dt>객실명</dt>
                                        <dd>{{hotelBookingInfo.summary.roomTypeName}}</dd>
                                    </dl>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="hotelBookingInfo.booker" class="contents-item">
                            <h3 class="heading-title1 mb10">예약자 정보</h3>
                            <div class="subscriber-article">
                                <dl>
                                    <dt>예약자 명</dt>
                                    <dd>{{hotelBookingInfo.booker.name}}</dd>
                                </dl>
                                <dl *ngIf="hotelBookingInfo.booker.mobileNo">
                                    <dt>휴대폰 번호</dt>
                                    <dd>{{hotelBookingInfo.booker.mobileNo}}</dd>
                                </dl>
                                <dl *ngIf="hotelBookingInfo.booker.email">
                                    <dt>이메일 주소</dt>
                                    <dd>{{hotelBookingInfo.booker.email}}</dd>
                                </dl>
                                <a href="#" class="btn-edit">수정</a>
                            </div>
                        </div>
                        <div class="contents-item">
                            <h3 class="heading-title1 mb10">여행자 정보</h3>
                            <div class="traveler-article">
                                <div class="table bordered-dashed">
                                    <table>
                                        <caption>여행자 정보</caption>
                                        <colgroup>
                                            <col>
                                            <col>
                                            <col>
                                            <col width="30%">
                                            <col width="20%">
                                        </colgroup>
                                        <thead>
                                            <tr>
                                                <th scope="col">객실</th>
                                                <th scope="col">분류</th>
                                                <th scope="col">이름(성별)</th>
                                                <th scope="col">영문 성/이름</th>
                                                <th scope="col">생년월일</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <ng-container *ngFor="let roomItem of rooms; index as roomIdx">
                                                <tr *ngFor="let adult of roomItem.adultList; index as adultIdx">
                                                    <td class="align-c">객실{{roomIdx+1}}</td>
                                                    <td class="align-c">성인{{adultIdx+1}}</td>
                                                    <td class="align-c">
                                                        {{adult.name}}
                                                        <ng-container *ngIf="adult.gender === 'F'">
                                                            (여)
                                                        </ng-container>
                                                        <ng-container *ngIf="adult.gender === 'M'">
                                                            (남)
                                                        </ng-container>
                                                    </td>
                                                    <td class="align-c">
                                                        <ng-container *ngIf="adult.lastName && adult.firstName;else adultNameEn">
                                                            {{adult.lastName}}/{{adult.firstName}}
                                                        </ng-container>
                                                        <ng-template #adultNameEn>
                                                            -
                                                        </ng-template>
                                                    </td>
                                                    <td class="align-c">
                                                        <ng-container *ngIf="adult.birthday;else adultBirthday">
                                                            {{adult.birthday}}
                                                        </ng-container>
                                                        <ng-template #adultBirthday>
                                                            -
                                                        </ng-template>
                                                    </td>
                                                </tr>
                                                <tr *ngFor="let child of roomItem.childList; index as childIdx">
                                                    <td class="align-c">객실{{roomIdx+1}}</td>
                                                    <td class="align-c">아동{{childIdx+1}}</td>
                                                    <td class="align-c">
                                                        {{child.name}}
                                                        <ng-container *ngIf="child.gender === 'F'">
                                                            (여)
                                                        </ng-container>
                                                        <ng-container *ngIf="child.gender === 'M'">
                                                            (남)
                                                        </ng-container>
                                                    </td>
                                                    <td class="align-c">
                                                        <ng-container *ngIf="child.lastName && child.firstName;else childNameEn">
                                                            {{child.lastName}}/{{child.firstName}}
                                                        </ng-container>
                                                        <ng-template #childNameEn>
                                                            -
                                                        </ng-template>
                                                    </td>
                                                    <td class="align-c">
                                                        <ng-container *ngIf="child.birthday;else childBirthday">
                                                            {{child.birthday}}
                                                        </ng-container>
                                                        <ng-template #childBirthday>
                                                            -
                                                        </ng-template>
                                                    </td>
                                                </tr>
                                            </ng-container>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="contents-item">
                            <h3 class="heading-title1 mb10">결제 정보</h3>
                            <div class="payment-article">
                                <p class="title"><strong>결제 상태</strong><span>결제 완료</span></p>
                                <ul class="default">
                                    <li>
                                        <span>상품가</span>
                                        <span>1,000,000원</span>
                                    </li>
                                    <li>
                                        <span>즉시할인</span>
                                        <span>-200,000원</span>
                                    </li>
                                </ul>
                                <ul class="default">
                                    <li>
                                        <span>쿠폰 할인</span>
                                        <span>-20,000원</span>
                                    </li>
                                    <li>
                                        <span>마일리지</span>
                                        <span>-1,000원</span>
                                    </li>
                                    <li>
                                        <span>결제 완료 금액</span>
                                        <span>100,000원</span>
                                    </li>
                                    <li>
                                        <span>미납 금액</span>
                                        <span>100,000원<a href="#" class="box-link sm primary ml5">결제하기</a></span>
                                    </li>
                                </ul>
                                <dl class="payment">
                                    <dt>
                                        <strong>총 결제 금액</strong>
                                        <strong class="price">120,000원</strong>
                                    </dt>
                                    <dd>
                                        <span>삼성앤마일리지플래티늄스카이패스카드(1022) / 할부 12개월(2019.10.12) </span>
                                        <a href="#" class="box-link sm">영수증</a>
                                    </dd>
                                </dl>
                            </div>
                            <div class="include-article">
                                <dl>
                                    <dt>포함사항</dt>
                                    <dd>세금과 봉사료를 포함 전체 숙박 요금</dd>
                                </dl>
                                <dl>
                                    <dt>불포함 사항</dt>
                                    <dd>특정 지역&amp;호텔에 따라서 City Tax, 리조트피, 숙박세(일본-도쿄&amp;오사카 포함),Tourism Tax(말레이시아 포함),
                                        입욕제(일본전 지역 온천 호텔, 료칸 숙박시) 크리스마스, 신년전후 의무 수수료 및 저녁 만찬행사 요금이 현지 호텔에서 부과됩니다.</dd>
                                </dl>
                            </div>
                            <div class="deadline-article">
                                <div class="check-time">
                                    <strong class="date">취소 마감일 : 11.20(수)</strong>
                                    <strong class="time">09:00 까지</strong>
                                </div>
                                <ul class="text-list dash mt20">
                                    <li>2019.09.02 10:39:01 - 2019.10.19 09:00:00 취소 시 : 취소 수수료 없이 취소 가능</li>
                                    <li>2019.10.19 09:00:01 - 2019.10.20 09:00:00 취소 시 : <strong class="cancel-price">37,000원 청구</strong></li>
                                    <li>위 날짜 이후 취소 시, 전체 상품요금이 청구됩니다.</li>
                                </ul>
                                <ul class="text-list ref color-sub3 mt10">
                                    <li>취소 마감일 이전까지 결제를 완료해주세요.</li>
                                    <li>무료 취소 가능 기간 이후 취소 시, 수수료가 발생합니다.</li>
                                </ul>
                            </div>
                        </div>
                        <div class="contents-item">
                            <h3 class="heading-title1 mb10">요청사항</h3>
                            <div class="request-article">
                                <ul>
                                    <li>
                                        <label class="checkbox lg">
                                            <input type="checkbox" class="checkbox-control-input" checked disabled>
                                            <span class="checkbox-control-text">금연객실</span>
                                        </label>
                                    </li>
                                    <li>
                                        <label class="checkbox lg">
                                            <input type="checkbox" class="checkbox-control-input" disabled>
                                            <span class="checkbox-control-text">고층객실</span>
                                        </label>
                                    </li>
                                    <li>
                                        <label class="checkbox lg">
                                            <input type="checkbox" class="checkbox-control-input" disabled>
                                            <span class="checkbox-control-text">Late Check in</span>
                                        </label>
                                    </li>
                                </ul>
                                <div class="row-list">
                                    <div class="row-item column">
                                        <h2 class="row-item-title">숙소 도착 예정 시간</h2>
                                        <div class="select-box lg line">
                                            <i class="icon sm clock"></i>
                                            <select name="" id="" disabled>
                                                <option value="" selected disabled>11:30</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="row-item column">
                                        <h2 class="row-item-title">요청 내용</h2>
                                        <div class="textarea lg line">
                                            <textarea name="" id="" cols="30" rows="4" readonly>허니문입니다. 귀여운 원앙 인형을 놔주세요!</textarea>
                                        </div>
                                    </div>
                                    <div class="row-item column">
                                        <h2 class="row-item-title">답변</h2>
                                        <div class="textarea lg line">
                                            <textarea name="" id="" cols="30" rows="4" readonly>안녕하세요.해당 호텔에 요청한 결과 원앙대신 진짜 까마귀를 놓아주신다고 합니다. 즐겁고 행복한 허니문이 되시길 기원합니다!</textarea>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <ul class="text-list ref mt10">
                                <li class="color-sub3">요청사항은 확정 내역이 아니며 호텔의 상황에 따라 반영되지 않을 수 있습니다.</li>
                            </ul>
                        </div>
                        <div class="contents-item">
                            <h3 class="heading-title1 mb10">필수정보</h3>
                            <div class="rules-article">
                                <ul class="text-list dot">
                                    <li class="none-pd">Remarks</li>
                                    <li>2019.08.31 00:00:00 - 2019.09.04 00:00:00</li>
                                    <li>2 Children between 3 to 12 are sharing beds with parents in ALL room type.</li>
                                </ul>
                            </div>
                        </div>
                        <div class="contents-item">
                            <h3 class="heading-title1 mb10">이용규정</h3>
                            <div class="rules-article">
                                <ul class="text-list dot">
                                    <li>숙박 시설 정책에 따라 추가 인원에 대한 요금이 부과 될 수 있습니다.</li>
                                    <li>체크인 시 부대 비용 발생에 대비해 정부에서 발급한 사진이 부착된 신분증과 신용카드 또는 현금으로 보증금이 필요합니다.</li>
                                </ul>
                            </div>
                        </div>
                        <div class="contents-item">
                            <h3 class="heading-title1 mb10">1:1 문의</h3>
                            <!-- 1:1 문의 아이템 -->
                            <div class="question-item">
                                <div class="reservation-title">
                                    <span class="icon sm hotel"></span>
                                    <span class="text">YB12341231231</span>
                                    <span class="label square type4">문의접수</span>
                                </div>
                                <div class="question-summary">
                                    <h2 class="product-title">[호텔] 밀레니엄 빌트모어 로스앤젤레스 Millennium Biltmore LosAngeles</h2>
                                    <ul>
                                        <li>
                                            <span>이용일</span>
                                            <span>2019.12.20 - 2019.12.30</span>
                                        </li>
                                        <li>
                                            <span>상담분류</span>
                                            <span>결제 시한 연장</span>
                                        </li>
                                        <li>
                                            <span>상담내용</span>
                                            <span>결제 시한 연장 부탁드립니다.</span>
                                        </li>
                                        <li>
                                            <span>접수일시</span>
                                            <span>2019.12.20 13:00</span>
                                        </li>
                                    </ul>
                                    <a href="#" class="btn md default">문의 상세</a>
                                </div>
                            </div>
                            <!-- 1:1 문의 아이템 -->
                            <div class="question-item">
                                <div class="reservation-title">
                                    <span class="icon sm hotel"></span>
                                    <span class="text">YB12341231231</span>
                                    <span class="label square type2">답변완료</span>
                                </div>
                                <div class="question-summary">
                                    <h2 class="product-title">[호텔] 밀레니엄 빌트모어 로스앤젤레스 Millennium Biltmore LosAngeles</h2>
                                    <ul>
                                        <li>
                                            <span>이용일</span>
                                            <span>2019.12.20 - 2019.12.30</span>
                                        </li>
                                        <li>
                                            <span>상담분류</span>
                                            <span>결제 시한 연장</span>
                                        </li>
                                        <li>
                                            <span>상담내용</span>
                                            <span>결제 시한 연장 부탁드립니다.</span>
                                        </li>
                                        <li>
                                            <span>접수일시</span>
                                            <span>2019.12.20 13:00</span>
                                        </li>
                                    </ul>
                                    <a href="#" class="btn md default">문의 상세</a>
                                </div>
                            </div>
                            <!-- 1:1 문의내역이 없을때 -->
                            <div class="components-nodata">
                                <div class="nodata-msg">
                                    <p>1:1 문의 내역이 없습니다.</p>
                                    <div class="btn-group">
                                        <a href="#" class="btn lg default inline">1:1 문의하기</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 푸터 -->
    <app-footer></app-footer>
</div>